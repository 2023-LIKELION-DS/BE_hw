{% extends 'base.html' %}
{% block title %}입력{% endblock %} | 라이언그램

<!--폼을 요청하는 것은 get, 데이터를 생성하는 것은 post-->

{% block content %}
    <h1>Post 입력 화면</h1>    <!--데이터 생성이기 때문에 post-->
    <form action="" method="POST" enctype="multipart/form-data"><!--인코딩 타입을 폼데이터로-->{% csrf_token %} <!--이게 있어야 데이터 생성 가능, 없으면 권한오류-->
        <!--action을 지우면 현재 url에 맞춰서 됨-->
        <div>
            <label for="id_image">이미지</label>
            {% if post.image %}
            <p>현재 : <a href="{{ post.image.url }}">{{ post.image.name }}</a></p>
            <p>변경 : <input type="file" name="image" accept="image/*" id="id_image"></p>
            {% else %}
            <input type="file" name="image" accept="image/*" id="id_image">
        {% endif %}
        </div>
        <div>
            <label for="id_content">내용</label>
            <textarea name="content" id="id_content" cols="30" rows="10">{% if post.content %}{{post.content}}{% endif %}
            </textarea>
        </div>
        <div>
            <input type="submit">
        </div>
    </form>
{% endblock %}